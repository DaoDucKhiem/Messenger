<div class="list-conversation-container">
    <!-- search conversation -->
    <div class="search">
        <div class="inpt-search">
            <img src="../../../assets/icons/IconAppChat/11.svg" alt="search-icon">
            <input type="text" [placeholder]= "placeHolderSearch" [(ngModel)]="searchTerm"
                (ngModelChange)="search()" />
        </div>
        <div class="btn-add">
            <img src="../../../assets/icons/IconboxChat/23.svg" alt="add conversation">
        </div>
    </div>
    <!-- search conversation -->

    <!-- list conversation -->
    <div class="list-conversation" *ngIf = "!findContact">
        <div class="conversation" *ngFor="let conversation of conversations"
            [ngClass]="{'selected': conversation.contactId === onSelectConversationId}"
            (click)="onSelect(conversation)" routerLink='conversation/{{conversation.contactId}}'>
            <!-- border when conversation is selected -->
            <div [ngClass]="{'border-selected' : conversation.contactId === onSelectConversationId}" class="space"></div>

            <!-- avatar user contact-->
            <div class="avatar">
                <div>
                    <img [src]="conversation.contactAvatar" alt="avatar">
                    <span *ngIf="conversation.status===1">
                        <img class="green-sphere" src="../../../assets/icons/IconAppChat/green_sphere.svg"
                            alt="avatar-conversation">
                    </span>
                </div>
            </div>
            <!-- avatar user contact-->

            <!-- info conversation-->
            <div class="content">
                <!-- usernamse and last message -->
                <!-- status: 0-offline, 1-online
                    lastMessageStatus: 0-not seen, 1-seen -->
                <div class="name-and-last-mess">
                    <p class="name-conversation"
                        [ngClass]="{
                            'title-selected': conversation.contactId === onSelectConversationId, 
                            'online-and-not-seen': conversation.status === 1 && conversation.lastMessageStatus === 0,
                            'user-online': conversation.status === 1 && conversation.lastMessageStatus === 1}">
                        {{conversation.contactName}}
                    </p>

                    <p class="message-last"
                    [ngClass]="{
                        'online-and-not-seen': conversation.status === 1 && conversation.lastMessageStatus === 0,
                        'not-seen': conversation.lastMessageStatus === 1,
                        'seen': conversation.lastMessageStatus === 1}">
                        {{conversation.lastMessage}}
                    </p>
                </div>
                <!-- usernamse and last message -->

                <!-- time and amount new message not seen -->
                <div class="time-and-new-mess" [ngClass] = "{'status-seen': conversation.lastMessageStatus===1}">
                    <div class="time">
                        <p *ngIf="forMatTime(conversation.time) === 0">{{conversation.time | date: 'HH:MM'}}</p>
                        <p *ngIf="forMatTime(conversation.time) === 1">{{conversation.time | date: 'EEE'}}</p>
                        <p *ngIf="forMatTime(conversation.time) === 2">{{conversation.time | date: 'd MMM' }}</p>
                    </div>

                    <div class="new-message" *ngIf="conversation.lastMessageStatus===0">
                        <span>
                            <p class="amount">{{conversation.amountNewMessage}}</p>
                        </span>
                    </div>
                </div>
                <!-- time and amount new message not seen -->
            </div>
            <!-- info conversation-->
        </div>
    </div>
    <!-- list conversation -->

    <!-- contact list -->
    <div class="list-conversation" *ngIf = "findContact">
        <div class="conversation" *ngFor="let conversation of conversations">

        </div>
    </div>
    <!-- contact list -->

    <!-- tab menu -->
    <div class="tab-menu">
        <div class="option">
            <div class="tab-1" [ngClass] = "{'selectedTab': !findContact}" (click)="selectedConversations()">
                <p>Cuộc trò chuyện</p>
            </div>
            <div class="tab-2" [ngClass] = "{'selectedTab': findContact}"(click)="selectedContacts()">
                <p>Danh bạ</p>
            </div>
        </div>
    </div>
    <!-- tab menu -->
</div>