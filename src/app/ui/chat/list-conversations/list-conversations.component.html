<div class="container">
    <div class="search">
        <div class="input-search">
            <img src="../../../assets/icons/IconAppChat/11.svg" alt="search-icon">
            <input type="text" placeholder="Tìm kiếm cuộc trò chuyện" [(ngModel)]="searchTerm"
                (ngModelChange)="search()" />
        </div>
        <div class="btn-add">
            <img src="../../../assets/icons/IconboxChat/23.svg" alt="add conversation">
        </div>
    </div>
    <div class="list-conversation">
        <div class="conversation" *ngFor="let conversation of conversations"
            [ngClass]="{'selected': conversation.conversationId == onSelectConversationId}"
            (click)="onSelect(conversation)" routerLink='conversation/{{conversation.contactId}}'>
            <div [ngClass]="{'border-selected' : conversation.conversationId == onSelectConversationId}" class="space">
            </div>
            <div class="avatar">
                <div>
                    <img [src]="conversation.contactAvatar" alt="avatar">
                    <span *ngIf="checkOnline(conversation.status)">
                        <img class="green-sphere" src="../../../assets/icons/IconAppChat/green_sphere.svg"
                            alt="avatar-conversation">
                    </span>
                </div>
            </div>
            <div class="content">
                <div class="name-and-last-mess">
                    <p class="name-conversation"
                        [ngClass]="addClassToContactName(conversation.status, conversation.messageStatus, conversation.conversationId)">
                        {{conversation.contactName}}</p>
                    <p class="message-last" [ngClass]="addClassToLastMess(conversation.status, conversation.messageStatus)">
                        {{conversation.lastMessage}}
                    </p>
                </div>
                <div class="time-and-new-mess" [ngClass] = "{'status-seen': checkMessageStatus(conversation.messageStatus)}">
                    <div class="time">
                        <p *ngIf="forMatTime(conversation.time) === 0">{{conversation.time | date: 'HH:MM'}}</p>
                        <p *ngIf="forMatTime(conversation.time) === 1">{{conversation.time | date: 'EEE'}}</p>
                        <p *ngIf="forMatTime(conversation.time) === 2">{{conversation.time | date: 'd MMM' }}</p>
                    </div>
                    <div class="new-message" *ngIf="!checkMessageStatus(conversation.messageStatus)">
                        <span>
                            <p class="amount">{{conversation.amountNewMessage}}</p>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tab-menu">
        <div class="option">
            <div class="tab-1">
                <p>Cuộc trò chuyện</p>
            </div>
            <div class="tab-2">
                <p>Danh bạ</p>
            </div>
        </div>
    </div>
</div>