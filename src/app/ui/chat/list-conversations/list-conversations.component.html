<div class="list-conversation-container">
    <!-- search conversation -->
    <div class="search">
        <div class="inpt-search">
            <img src="../../../assets/icons/IconAppChat/11.svg" alt="search-icon">
            <input type="text" [placeholder]="placeHolderSearch" [(ngModel)]="searchTerm" (ngModelChange)="search()" />
        </div>
        <div class="btn-add">
            <img src="../../../assets/icons/IconboxChat/23.svg" alt="add conversation" (click)="getConversations()">
        </div>
    </div>
    <!-- search conversation -->

    <!-- list conversation -->
    <div class="list-conversation" *ngIf="!findContact">
        <div class="conversation" *ngFor="let conversation of conversations">
            <!-- [ngClass]="{'selected': conversation.contactId === onSelectConversationId}"
            (click)="onSelect(conversation)" routerLink='conversation/{{conversation.contactId}}'> -->
            <!-- border when conversation is selected -->
            <div class="space"></div>


            <div class="avatar">
                <div>
                    <!-- <img *ngIf = "conversation.avatar" [src]="conversation.avatar" alt="avatar"> -->
                    <ngx-avatar name="{{conversation.name}}" size="34"></ngx-avatar>
                </div>
            </div>

            <div class="content">
                <div class="name-and-last-mess">
                    <p class="name-conversation">
                        {{conversation.name}}
                    </p>

                    <!-- [ngClass]="{
                        'online-and-not-seen': conversation.status === 1 && conversation.lastMessageStatus === 0,
                        'not-seen': conversation.lastMessageStatus === 1,
                        'seen': conversation.lastMessageStatus === 1}" -->
                    <p class="message-last">
                        {{conversation.lastMessage.content.content}}
                    </p>
                </div>

                <!-- [ngClass]="{'status-seen': conversation.lastMessageStatus===1}" -->
                <!-- <div class="time-and-new-mess" >
                    <div class="time">
                        <p *ngIf="forMatTime(conversation.time) === 0">{{conversation.time | date: 'HH:MM'}}</p>
                        <p *ngIf="forMatTime(conversation.time) === 1">{{conversation.time | date: 'EEE'}}</p>
                        <p *ngIf="forMatTime(conversation.time) === 2">{{conversation.time | date: 'd MMM' }}
                        </p>
                    </div>

                    <div class="new-message" *ngIf="conversation.lastMessageStatus===0">
                        <span>
                            <p class="amount">{{conversation.amountNewMessage}}</p>
                        </span>
                    </div>
                </div> -->
            </div>
        </div>
        <!-- list conversation -->

        <!-- contact list -->
        <div class="list-conversation" *ngIf="findContact">
            <div class="conversation" *ngFor="let contact of contacts"
                (click)="createConversation(contact.id, contact.fullName)">
                <!-- border when conversation is selected -->
                <div class="space"></div>

                <!-- avatar user contact-->
                <div class="avatar">
                    <div>
                        <img *ngIf="contact.imageUrl" [src]="contact.imageUrl" alt="avatar">
                        <ngx-avatar *ngIf="contact.imageUrl == ''" size="24" name="{{contact.fullName}}">
                        </ngx-avatar>
                    </div>
                </div>
                <!-- avatar user contact-->

                <div class="username">
                    <p class="name">
                        {{contact.fullName}}
                    </p>
                </div>
            </div>
        </div>
        <!-- contact list -->

        <!-- tab menu -->
        <div class="tab-menu">
            <div class="option">
                <div class="tab-1" [ngClass]="{'selectedTab': !findContact}" (click)="selectedConversations()">
                    <p>Cuộc trò chuyện</p>
                </div>
                <div class="tab-2" [ngClass]="{'selectedTab': findContact}" (click)="selectedContacts()">
                    <p>Danh bạ</p>
                </div>
            </div>
        </div>
        <!-- tab menu -->
    </div>